{
  "title": "Prometheus Demo Dashboard",
  "uid": "prometheus-demo",
  "schemaVersion": 36,
  "refresh": "10s",
  "time": { "from": "now-30m", "to": "now" },
  "panels": [
    {
      "id": 1,
      "title": "ğŸ“ˆ HTTP è¯·æ±‚é€Ÿç‡ (req/s)",
      "type": "timeseries",
      "gridPos": { "x": 0, "y": 0, "w": 12, "h": 8 },
      "targets": [
        {
          "expr": "rate(http_requests_total[1m])",
          "legendFormat": "{{method}} {{endpoint}} [{{status}}]",
          "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" }
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "reqps",
          "color": { "mode": "palette-classic" }
        }
      }
    },
    {
      "id": 2,
      "title": "ğŸ‘¥ å½“å‰åœ¨çº¿ç”¨æˆ·æ•°",
      "type": "stat",
      "gridPos": { "x": 12, "y": 0, "w": 6, "h": 4 },
      "targets": [
        {
          "expr": "active_users",
          "legendFormat": "åœ¨çº¿ç”¨æˆ·",
          "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" }
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "none",
          "color": { "mode": "thresholds" },
          "thresholds": {
            "steps": [
              { "color": "green", "value": null },
              { "color": "yellow", "value": 150 },
              { "color": "red", "value": 200 }
            ]
          }
        }
      }
    },
    {
      "id": 3,
      "title": "ğŸ“¦ è®¢å•é˜Ÿåˆ—ç§¯å‹",
      "type": "gauge",
      "gridPos": { "x": 18, "y": 0, "w": 6, "h": 4 },
      "targets": [
        {
          "expr": "order_queue_size",
          "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" }
        }
      ],
      "fieldConfig": {
        "defaults": {
          "min": 0,
          "max": 500,
          "unit": "none",
          "color": { "mode": "thresholds" },
          "thresholds": {
            "steps": [
              { "color": "green", "value": null },
              { "color": "yellow", "value": 200 },
              { "color": "red", "value": 400 }
            ]
          }
        }
      }
    },
    {
      "id": 4,
      "title": "â± è¯·æ±‚å»¶è¿Ÿ P50 / P95 / P99",
      "type": "timeseries",
      "gridPos": { "x": 0, "y": 8, "w": 12, "h": 8 },
      "targets": [
        {
          "expr": "histogram_quantile(0.50, rate(request_duration_seconds_bucket[1m]))",
          "legendFormat": "P50",
          "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" }
        },
        {
          "expr": "histogram_quantile(0.95, rate(request_duration_seconds_bucket[1m]))",
          "legendFormat": "P95",
          "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" }
        },
        {
          "expr": "histogram_quantile(0.99, rate(request_duration_seconds_bucket[1m]))",
          "legendFormat": "P99",
          "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" }
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "s",
          "color": { "mode": "palette-classic" }
        }
      }
    },
    {
      "id": 5,
      "title": "âŒ HTTP é”™è¯¯ç‡",
      "type": "timeseries",
      "gridPos": { "x": 12, "y": 4, "w": 12, "h": 12 },
      "targets": [
        {
          "expr": "rate(http_requests_total{status=~\"5..\"}[1m])",
          "legendFormat": "5xx é”™è¯¯",
          "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" }
        },
        {
          "expr": "rate(http_requests_total{status=~\"4..\"}[1m])",
          "legendFormat": "4xx é”™è¯¯",
          "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" }
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "reqps",
          "color": { "mode": "palette-classic" }
        }
      }
    },
    {
      "id": 6,
      "title": "ğŸ–¥ ä¸»æœº CPU ä½¿ç”¨ç‡",
      "type": "timeseries",
      "gridPos": { "x": 0, "y": 16, "w": 12, "h": 8 },
      "targets": [
        {
          "expr": "100 - (avg by(instance)(rate(node_cpu_seconds_total{mode=\"idle\"}[1m])) * 100)",
          "legendFormat": "CPU ä½¿ç”¨ç‡ %",
          "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" }
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "percent",
          "min": 0,
          "max": 100,
          "color": { "mode": "thresholds" },
          "thresholds": {
            "steps": [
              { "color": "green", "value": null },
              { "color": "yellow", "value": 70 },
              { "color": "red", "value": 90 }
            ]
          }
        }
      }
    },
    {
      "id": 7,
      "title": "ğŸ’¾ ä¸»æœºå†…å­˜ä½¿ç”¨ç‡",
      "type": "timeseries",
      "gridPos": { "x": 12, "y": 16, "w": 12, "h": 8 },
      "targets": [
        {
          "expr": "(1 - (node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes)) * 100",
          "legendFormat": "å†…å­˜ä½¿ç”¨ç‡ %",
          "datasource": { "type": "prometheus", "uid": "PBFA97CFB590B2093" }
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "percent",
          "min": 0,
          "max": 100
        }
      }
    }
  ]
}
